{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForn.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","serviceWorker.js","index.js","images/header__logo.png"],"names":["Header","className","src","Logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","cardDeleteButtonClassName","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","type","length","Main","handleEditAvatar","handleAddPlace","handleEditProfile","cards","style","backgroundImage","avatar","about","map","key","Footer","PopupWithForm","props","isOpen","method","action","noValidate","onSubmit","onClose","title","children","buttonText","ImagePopup","api","options","this","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","then","_getResponseData","body","JSON","stringify","cardId","authorization","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","value","placeholder","required","minLength","maxLength","id","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","defaultValue","ref","AddPlacePopup","onAddPlace","nameRef","linkRef","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getInitialCards","data","catch","err","console","log","getUserInfo","user","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","userInfo","editUserInfo","newAvatar","changeAvatar","postUserCard","newPlace","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.ac8d607b.chunk.js","sourcesContent":["import React from 'react';\nimport Logo from '../images/header__logo.png';\n\nexport default function Header() {\n  return (\n    <header className='header'>\n      <img src={Logo} alt='Логотип Место' className='header__logo' />\n    </header>\n  );\n}\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = isOwn\n    ? 'grid-element__trash-button'\n    : 'grid-element__trash-button_hidden';\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `grid-element__like-button ${\n    isLiked ? 'grid-element__like-button_active' : ''\n  }`;\n\n  return (\n    <li className='grid-element'>\n      <img\n        src={card.link}\n        alt={card.name}\n        className='grid-element__image'\n        onClick={handleClick}\n      />\n      <button\n        className={cardDeleteButtonClassName}\n        type='button'\n        onClick={handleDeleteClick}\n      ></button>\n      <div className='grid-element__description'>\n        <h3 className='grid-element__title'>{card.name}</h3>\n        <div className='grid-element__like-container'>\n          <button\n            className={cardLikeButtonClassName}\n            type='button'\n            onClick={handleLikeClick}\n          ></button>\n          <h3 className='grid-element__like-count'>{card.likes.length}</h3>\n        </div>\n      </div>\n    </li>\n  );\n}\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card';\n\nexport default function Main({\n  handleEditAvatar,\n  handleAddPlace,\n  handleEditProfile,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className='content'>\n      <section className='profile'>\n        <button\n          className='profile__avatar'\n          type='button'\n          onClick={handleEditAvatar}\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n        ></button>\n        <div className='profile__info'>\n          <h1 className='profile__title'>{currentUser.name}</h1>\n          <button\n            className='profile__edit-button'\n            type='button'\n            onClick={handleEditProfile}\n          ></button>\n          <p className='profile__subtitle'>{currentUser.about}</p>\n        </div>\n        <button\n          className='profile__add-button'\n          type='button'\n          onClick={handleAddPlace}\n        ></button>\n      </section>\n      <section className='grid-elements'>\n        <ul className='grid-elements__list'>\n          {cards.map((card) => {\n            return (\n              <Card\n                card={card}\n                key={card._id}\n                onCardClick={onCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n","import React from 'react';\n\nexport default function Footer() {\n  return (\n    <footer className='footer'>\n      <p className='footer__copyright'>© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n","import React from 'react';\n\nexport default function PopupWithForm(props) {\n  return (\n    <section\n      className={`popup popup_type_${props.name} ${\n        props.isOpen && 'popup_opened'\n      }`}\n    >\n      <form\n        className={`popup__form popup__form_type_${props.name}`}\n        name={props.name}\n        method='POST'\n        action='#'\n        noValidate\n        onSubmit={props.onSubmit}\n      >\n        <button\n          className='popup__exit-button'\n          type='button'\n          onClick={props.onClose}\n        ></button>\n        <h3 className='popup__title'>{props.title}</h3>\n        {props.children}\n        <button className='popup__submit-button' type='submit'>\n          {props.buttonText}\n        </button>\n      </form>\n    </section>\n  );\n}\n","import React from 'react';\n\nexport default function ImagePopup({ card, onClose }) {\n  return (\n    <section\n      className={\n        card ? 'popup popup_type_image popup_opened' : 'popup popup_type_image'\n      }\n    >\n      <div className='popup__container'>\n        <button\n          className='popup__exit-button popup__exit-button_type_image-popup'\n          type='button'\n          onClick={onClose}\n        ></button>\n        <img src={card.link} alt={card.name} className='popup__image' />\n        <h3 className='popup__bottom-title'>{card.name}</h3>\n      </div>\n    </section>\n  );\n}\n","export default class Api {\n    constructor (options) {\nthis.baseUrl =  options.baseUrl;\nthis.headers = options.headers;\n    }\n\n    _getResponseData(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Упс! Ошибка: ${res.status}`)\n      }\n\n    getInitialCards() {\n        return fetch (`${this.baseUrl}/cards`, {\n            headers: this.headers\n        })\n        .then(this._getResponseData);\n    }\n\n    postUserCard ({name, link}){\n        return fetch (`${this.baseUrl}/cards`, {\n            method: 'POST',\n            headers: this.headers, \n            body: JSON.stringify({\n             name, link\n            })\n        })\n        .then(this._getResponseData);\n    }\n\n    getUserInfo() {\n        return fetch (`${this.baseUrl}/users/me`, {\n            headers: this.headers\n        })\n        .then(this._getResponseData);\n}\n\n    editUserInfo({name, about}) {\n        return fetch (`${this.baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this.headers,\n            body: JSON.stringify({\n            name, about\n              })\n\n        })\n        .then(this._getResponseData);\n\n    }\n\n    changeLikeCardStatus (cardId, isLiked) {\n        return fetch (`${this.baseUrl}/cards/likes/${cardId}`, {\n          method: isLiked ? 'PUT' : 'DELETE',\n          headers: this.headers\n        })\n        .then(this._getResponseData);\n    }\n\n    deleteCard(cardId) {\n        return fetch (`${this.baseUrl}/cards/${cardId}`, {\n            method: 'DELETE',\n            headers: this.headers\n        })\n        .then(this._getResponseData);\n    }\n\n    changeAvatar({avatar}) {\n        return fetch (`${this.baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this.headers,\n            body: JSON.stringify({avatar})\n        })\n        .then(this._getResponseData);\n    }\n}\n\nexport const api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\n    headers: {\n      authorization: 'aa64054e-de41-439a-90ae-ddf7c127f70d',\n      'Content-Type': 'application/json',\n    },\n  });","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForn';\n\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  const currentUser = React.useContext(CurrentUserContext); //подписались на контекст\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      name='edit-profile'\n      title='Редактировать профиль'\n      buttonText='Сохранить'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type='text'\n        className='popup__input popup__input_type_name'\n        value={name}\n        placeholder=' Введите имя'\n        name='name'\n        required\n        minLength='2'\n        maxLength='40'\n        id='name-input'\n        onChange={handleNameChange}\n      />\n      <span className='popup__input-error' id='name-input-error'></span>\n      <input\n        type='text'\n        className='popup__input popup__input_type_info'\n        value={description}\n        placeholder=' Чем вы занимаетесь?'\n        name='about'\n        required\n        minLength='2'\n        maxLength='200'\n        id='info-input'\n        onChange={handleDescriptionChange}\n      />\n      <span className='popup__input-error' id='info-input-error'></span>\n    </PopupWithForm>\n  );\n}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForn';\n\nexport default function EditAvatarPopup({\n  isOpen,\n  onClose, onUpdateAvatar\n}) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name='avatar'\n      title='Обновить аватар'\n      buttonText='Сохранить'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type='url'\n        className='popup__input popup__input_type_avatar'\n        defaultValue=''\n        placeholder='Ссылка на картинку'\n        name='avatar'\n        required\n        id='avatar-input'\n        ref={avatarRef}\n      />\n      <span className='popup__input-error' id='avatar-input-error'></span>\n    </PopupWithForm>\n  );\n}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForn';\n\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const nameRef = React.useRef();\n  const linkRef = React.useRef();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      name: nameRef.current.value,\n      link: linkRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name='new-card'\n      title='Новое место'\n      buttonText='Создать'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type='text'\n        className='popup__input popup__input_type_title'\n        defaultValue=''\n        placeholder='Название'\n        name='name'\n        required\n        minLength='1'\n        maxLength='30'\n        id='title-input'\n        ref={nameRef}\n      />\n      <span className='popup__input-error' id='title-input-error'></span>\n      <input\n        type='url'\n        className='popup__input popup__input_type_image-link'\n        defaultValue=''\n        placeholder='Ссылка на картинку'\n        name='link'\n        required\n        id='link-input'\n        ref={linkRef}\n      />\n      <span className='popup__input-error' id='link-input-error'></span>\n    </PopupWithForm>\n  );\n}\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForn';\nimport ImagePopup from './ImagePopup';\nimport { api } from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [selectedCard, setSelectedCard] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((user) => {\n        setCurrentUser(user);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(false);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser(userInfo) {\n    api\n      .editUserInfo(userInfo)\n      .then((user) => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(newAvatar) {\n    api\n      .changeAvatar(newAvatar)\n      .then((avatar) => {\n        setCurrentUser(avatar);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n      setCards(newCards);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api\n      .postUserCard(data)\n      .then((newPlace) => {\n        setCards([newPlace, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className='page-container'>\n        <Header />\n        <Main\n          handleEditAvatar={handleEditAvatarClick}\n          handleAddPlace={handleAddPlaceClick}\n          handleEditProfile={handleEditProfileClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n          cards={cards}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <PopupWithForm\n          name='confirm-deleting'\n          title='Вы уверены?'\n          buttonText='Да'\n        />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}